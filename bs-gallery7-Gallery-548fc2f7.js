define("@widget/GALLERY/bs-gallery7-Gallery-548fc2f7.js",["exports","~/c/bs-dataAids","~/c/bs-wrapWithDeviceDetection","~/c/bs-getAllCaptionText","~/c/bs-GalleryImage"],(function(e,t,a,o,r){"use strict";const l=400;function n(e){let{alignmentOption:a,caption:r,staticContent:n}=e;const[c,g]=(global.React||guac.react).useState(!1);let s,i;const p=(global.React||guac.react).useMemo((()=>{try{return JSON.parse(r)}catch(e){return null}}),[r]),u=(global.React||guac.react).useMemo((()=>((e,t)=>{if(e){let t,a=0;e.blocks.some(((e,o)=>(a+=e.text.length,t=o,a>=l)));const o=e.blocks.map(((e,o)=>{if(o===t){const t=e.text.slice(0,-(a-l));return{...e,text:t}}return o>t?{...e,text:""}:e})),r={...e,blocks:o};return JSON.stringify(r)}return t.slice(0,l)})(p,r)),[p,r]);p?(s=o.g(p),i=s.length>l):i=r.length>l;const d=i&&"center"!==a,b="center"===a||!i||i&&c,m={textAlign:"left",marginTop:"xxsmall","@md":{marginTop:"center"===a?"xxsmall":0}};return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{children:b?r:u,style:m,"data-aid":t.d.GALLERY_CAPTION_RENDERED,richtext:!0}),d&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.MoreLink.Expand,{tag:"span",children:c?n.showLess:n.showMore,onClick:()=>g(!c),expanded:c,style:{marginVertical:"xsmall"},"data-aid":t.d.GALLERY_CAPTION_MORE_BUTTON}))}n.propTypes={alignmentOption:(global.PropTypes||guac["prop-types"]).string,caption:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object};const{getImageDimensions:c}=(global.Core||guac["@wsb/guac-widget-core"]).utils.imageDimensions;var g=a.w(class extends(global.React||guac.react).Component{constructor(){super(...arguments),this.state={page:1},this.loadMore=this.loadMore.bind(this)}static get propTypes(){return{id:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,device:(global.PropTypes||guac["prop-types"]).string,galleryImages:(global.PropTypes||guac["prop-types"]).array.isRequired,renderAsThumbnail:(global.PropTypes||guac["prop-types"]).bool,renderMode:(global.PropTypes||guac["prop-types"]).string,section:(global.PropTypes||guac["prop-types"]).string,size:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object,alignmentOption:(global.PropTypes||guac["prop-types"]).string,enableImageDimension:(global.PropTypes||guac["prop-types"]).bool}}loadMore(e){e.stopPropagation(),this.setState({page:this.state.page+1})}renderSeeMoreText(){const{staticContent:e}=this.props;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{paddingVertical:"xlarge",textAlign:"right"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.MoreLink.Expand,{tag:"span",onClick:this.loadMore,"data-aid":t.d.GALLERY_MORE_BUTTON,children:e.showMore,"data-edit-interactive":!0}))}renderPages(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{galleryImages:a,device:o,size:l,alignmentOption:g="left",renderMode:s,staticContent:i,enableImageDimension:p}=this.props,{page:u}=this.state,d={marginBottom:"small","@md":{marginBottom:"small",flexDirection:{left:"row-reverse",center:"column",right:"row"}[g]}},b={last:"mobile"===o||"xs"===l||"sm"===l},m=e?3:6*u,y=e||s===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.EDIT,h={outputWidth:"center"===g?1250:1023},w=a.slice(0,m),T=y||w.some((e=>{let{caption:t}=e;return!!t}));return w.map(((e,a)=>{let{image:o,caption:l,externalLink:s}=e;y&&!l&&(l=i[`demoCaption${a+1}`]);const u={imageData:{...o,...h,enableImageDimension:p},"data-aid":t.a(a),style:{width:c(o).outputWidth||"auto",maxWidth:"100%",...!T&&{display:"block",margin:"0 auto"}}};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid,{bottom:!1,key:a,style:d},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid.Cell,t._({md:"center"!==g&&T?8:12,xs:12},t.g(a,{isImage:!0})),(global.React||guac.react).createElement(r.G,{imageProps:u,externalLink:s,background:!1})),l&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid.Cell,t._({md:"center"!==g&&T?4:12,xs:12},b,t.g(a,{isImage:!1})),(global.React||guac.react).createElement(n,{alignmentOption:g,caption:l,staticContent:i})))}))}render(){const{galleryImages:e,renderMode:t}=this.props,{page:a}=this.state,o=Math.ceil(e.length/6),r=t===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.DISPLAY,l=t===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.ADD,n=r||l;return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,e.length?this.renderPages(n):null,o>a&&!n?this.renderSeeMoreText():null)}});e.default=g,Object.defineProperty(e,"__esModule",{value:!0})})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=bs-gallery7-Gallery-548fc2f7.js.map
